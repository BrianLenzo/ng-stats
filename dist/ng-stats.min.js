//! ng-stats version 2.4.0 built with ♥ by Kent C. Dodds <kent@doddsfamily.us> (http://kent.doddsfamily.us), Viper Bailey <jinxidoru@gmail.com> (http://jinxidoru.blogspot.com), Daniel Lamb <dlamb.open.source@gmail.com> (http://daniellmb.com) (ó ì_í)=óò=(ì_í ò)
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?exports.showAngularStats=e(require("angular")):t.showAngularStats=e(t.angular)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(){if(!q){q=!0;var t=Object.getPrototypeOf(l()),e=t.$digest;t.$digest=function(){var t=O();e.apply(this,arguments);var n=O()-t;g(c(),n)}}}function i(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function a(t){window.self.angular&&l()?u(t):window.self.setTimeout(function(){a(t)},200)}function u(t){function e(e,n,o){var r=e.charAt(0).toUpperCase()+e.slice(1);t["track"+r]&&(l[e]=[],n["track + capThingToTrack"]=function(t){o&&l[e][l.length-1]===t||(l[e][l.length-1]=t,l[e].push(t))})}function n(e,n,o){var r=e.charAt(0).toUpperCase()+e.slice(1);if(t["log"+r]){var a;n["log"+r]=function(t){if(!o||a!==t){a=t;var n=i(e,t);n?console.log("%c"+e+":",n,t):console.log(e+":",t)}}}}function o(t,e){return t>e?"red":t>.7*e?"orange":"green"}function i(e,n){var r;return"digest"===e?r="color:"+o(n,t.digestTimeThreshold):"watches"===e&&(r="color:"+o(n,t.watchCountThreshold)),r}function a(e,n){var r=n||R,i=o(r,t.digestTimeThreshold);k=h(e)?k:e;var a=o(k,t.watchCountThreshold);if(R=h(n)?R:n,g.text(k).css({color:a}),p.text(R.toFixed(2)).css({color:i}),n){var u=v.getContext("2d");d>0&&(d=0,u.fillStyle="#333",u.fillRect(w.width-1,0,1,w.height)),u.fillStyle=i,u.fillRect(w.width-1,Math.max(0,w.height-r),2,2)}}function u(){if(c.active){window.self.setTimeout(u,250);var t=v.getContext("2d"),e=t.getImageData(1,0,w.width-1,w.height);t.putImageData(e,0,0),t.fillStyle=d++>2?"black":"#333",t.fillRect(w.width-1,0,1,w.height)}}t=void 0!==t?t:{};var l={listeners:P};if(L&&(L.$el&&L.$el.remove(),L.active=!1,L=null),t!==!1&&t.autoload||(sessionStorage.removeItem(D),localStorage.removeItem(D),t!==!1)){t.position=t.position||"top-left",t=b.extend({htmlId:null,digestTimeThreshold:16,watchCountThreshold:2e3,autoload:!1,trackDigest:!1,trackWatches:!1,logDigest:!1,logWatches:!1,styles:{position:"fixed",background:"black",borderBottom:"1px solid #666",borderRight:"1px solid #666",color:"#666",fontFamily:"Courier",width:130,zIndex:9999,textAlign:"right",top:-1===t.position.indexOf("top")?null:0,bottom:-1===t.position.indexOf("bottom")?null:0,right:-1===t.position.indexOf("right")?null:0,left:-1===t.position.indexOf("left")?null:0}},t||{}),r();var c=L={active:!0};if(t.autoload)if("localStorage"===t.autoload)localStorage.setItem(D,JSON.stringify(t));else{if("sessionStorage"!==t.autoload&&"boolean"!=typeof t.autoload)throw new Error("Invalid value for autoload: "+t.autoload+' can only be "localStorage" "sessionStorage" or boolean.');sessionStorage.setItem(D,JSON.stringify(t))}var s=b.element(document.body),d=0,f=t.htmlId?' id="'+t.htmlId+'"':"";c.$el=b.element("<div"+f+"><canvas></canvas><div><span></span> | <span></span></div></div>").css(t.styles),s.append(c.$el);var g=c.$el.find("span"),p=g.next(),w={width:130,height:40},v=c.$el.find("canvas").attr(w)[0];return P.digestLength.ngStatsAddToCanvas=function(t){a(null,t)},P.watchCount.ngStatsAddToCanvas=function(t){a(t)},e("digest",P.digestLength),e("watches",P.watchCount,!0),n("digest",P.digestLength),n("watches",P.watchCount,!0),u(),T.$$phase||T.$digest(),l}}function l(){if(T)return T;var t=document.querySelector(A);return t?T=b.element(t).scope().$root:null}function c(){window.self.clearTimeout(I);var t=O();return t-U>300?(U=t,k=p()):I=window.self.setTimeout(function(){g(c())},350),k}function s(t){var e=d(t);return p(e)}function d(t){t=b.element(t);var e=t.scope();return e||(t=b.element(t.querySelector(A)),e=t.scope()),e}function f(t){return t&&t.$$watchers?t.$$watchers:[]}function g(t,e){h(t)||b.forEach(P.watchCount,function(e){e(t)}),h(e)||b.forEach(P.digestLength,function(t){t(e)})}function h(t){return null===t||void 0===t}function p(t){var e=0;return w(t,function(t){e+=f(t).length}),e}function w(t,e){if("function"==typeof t&&(e=t,t=null),t=t||l(),t=y(t)){var n=e(t);return n===!1?n:m(t,e)}}function v(t,e){for(var n;(t=t.$$nextSibling)&&(n=e(t),n!==!1)&&(n=m(t,e),n!==!1););return n}function m(t,e){for(var n;(t=t.$$childHead)&&(n=e(t),n!==!1)&&(n=v(t,e),n!==!1););return n}function S(t){var e=null;return w(function(n){return n.$id===t?(e=n,!1):void 0}),e}function y(t){return C(t)&&(t=S(t)),t}function C(t){return"string"==typeof t||"number"==typeof t}Object.defineProperty(e,"__esModule",{value:!0});var x=n(1),$=o(x),b=$["default"];b.version||(b=window.angular),e["default"]=u;var T,D="showAngularStats_autoload",L=null,O=window.self.performance&&window.self.performance.now?function(){return window.self.performance.now()}:function(){return Date.now()},U=O(),I=null,k=c()||0,R=0,A=".ng-scope, .ng-isolate-scope",q=!1,P={watchCount:{},digestLength:{}},E=sessionStorage[D]||!i()&&localStorage[D];E&&a(JSON.parse(E)),b.module("angularStats",[]).directive("angularStats",function(){function t(t){for(var e=t[0];e.parentElement;)e=e.parentElement;return e}var e=1;return{scope:{digestLength:"@",watchCount:"@",watchCountRoot:"@",onDigestLengthUpdate:"&?",onWatchCountUpdate:"&?"},link:function(n,o,i){function a(){if(i.hasOwnProperty("digestLength")){var t=o;i.digestLength&&(t=b.element(o[0].querySelector(i.digestLength))),P.digestLength["ngStatsDirective"+f]=function(e){window.dirDigestNode=t[0],t.text((e||0).toFixed(2))}}}function u(){if(i.hasOwnProperty("watchCount")){var e,r=o;if(n.watchCount&&(r=b.element(o[0].querySelector(i.watchCount))),n.watchCountRoot)if("this"===n.watchCountRoot)e=o;else{var a;if(a=i.hasOwnProperty("watchCountOfChild")?o[0]:t(o),e=b.element(a.querySelector(n.watchCountRoot)),!e.length)throw new Error("no element at selector: "+n.watchCountRoot)}P.watchCount["ngStatsDirective"+f]=function(t){var n=t;e&&(n=s(e)),r.text(n)}}}function l(){i.hasOwnProperty("onWatchCountUpdate")&&(P.watchCount["ngStatsDirectiveUpdate"+f]=function(t){n.onWatchCountUpdate({watchCount:t})})}function c(){i.hasOwnProperty("onDigestLengthUpdate")&&(P.digestLength["ngStatsDirectiveUpdate"+f]=function(t){n.onDigestLengthUpdate({digestLength:t})})}function d(){delete P.digestLength["ngStatsDirectiveUpdate"+f],delete P.watchCount["ngStatsDirectiveUpdate"+f],delete P.digestLength["ngStatsDirective"+f],delete P.watchCount["ngStatsDirective"+f]}r();var f=e++;a(),u(),l(),c(),n.$on("$destroy",d)}}}),t.exports=e["default"]},function(e,n){e.exports=t}])});
//# sourceMappingURL=ng-stats.min.js.map